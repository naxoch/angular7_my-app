<section id="registro" class="container-fluid">
  <div class="container">
    <div class="row">
      <div class="col-xl-12 col-12 col-lg-12 col-sm-12 col-md-12">
        <h3 class="col-lg-12 col-md-12 col-sm-12 col-xs-12">Registro</h3>
        <form (ngSubmit)="registrar(regForm.value); cargar = true;" [formGroup]="regForm">

            <div class="form-group text-left">
              <label for="name">Nombre</label>
              <input type="text"
                    class="form-control"
                    [ngClass]="{
                      'alert-danger error': regForm.controls['name'].invalid && regForm.controls['name'].touched,
                      'alert-success': regForm.controls['name'].valid
                    }"
                    id="name"
                    name="name"
                    formControlName="name">
              <div *ngIf="regForm.controls['name'].invalid && (regForm.controls['name'].dirty || regForm.controls['name'].touched)">
                <span>
                  Este campo es obligatorio
                </span>
              </div>
            </div>

            <div class="form-group text-left">
              <label for="email">Correo</label>
              <input type="email"
                    [ngClass]="{
                      'alert-danger error': (regForm.controls['email'].invalid && regForm.controls['email'].touched) || (error_email),
                      'alert-success': regForm.controls['email'].valid &&  regForm.controls['email'].touched
                    }"
                    class="form-control"
                    id="email"
                    name="email"
                    formControlName="email">
              <div *ngIf="regForm.controls['email'].invalid && regForm.controls['email'].touched">
                <span class="error2">
                  Este campo es obligatorio y debe ser un correo válido
                </span>
              </div>
              <div>
                <span *ngIf="error_email">
                  {{email_message}}
                </span>
              </div>
            </div>

            <div class="form-group text-left">
              <label for="password">Password</label>
              <input type="password"
                    [ngClass]="{
                      'alert-danger error': regForm.controls['password'].invalid && regForm.controls['password'].touched,
                      'alert-success': regForm.controls['password'].valid
                    }"
                    class="form-control"
                    id="password"
                    name="password"
                    formControlName="password">
              <div *ngIf="regForm.controls['password'].invalid && regForm.controls['password'].touched">
                <span>
                  La contraseña debe contener letras y números. Mínimo 6 caracteres.
                </span>
              </div>
            </div>

            <div class="text-center">
              <button type="submit"
                      [ngClass]="{
                        'btn-warning': !regForm.valid,
                        'btn-primary ': regForm.valid
                      }"
                      class="btn btn-lg"
                      [disabled]="!regForm.valid"
                      *ngIf="!cargar">
                Registrarse
              </button>
              <button class="btn btn-primary btn-lg" *ngIf="cargar">
                  <span class="spinner-border spinner-border-sm"></span>
                  Cargando..
              </button>
            </div>
        </form>
      </div>
    </div>
  </div>
</section>


